-- Create the first table: Users
CREATE TABLE Users (UserID INT PRIMARY KEY, UserName STRING, Email STRING)

-- Create the second table: Orders
CREATE TABLE Orders (OrderID INT PRIMARY KEY, OrderDate STRING, Amount DOUBLE, UserID INT FOREIGN KEY REFERENCES Users(UserID))

-- Create an index on Users table for UserName
CREATE INDEX idx_UserName ON Users(UserName)

-- Create an index on Orders table for OrderDate
CREATE INDEX idx_OrderDate ON Orders(OrderDate)

-- Insert random data into Users table
INSERT INTO Users (UserID, UserName, Email) VALUES (1, 'Alice', 'alice@example.com');
INSERT INTO Users (UserID, UserName, Email) VALUES (2, 'Bob', 'bob@example.com');
INSERT INTO Users (UserID, UserName, Email) VALUES (3, 'Charlie', 'charlie@example.com');

-- Insert random data into Orders table
INSERT INTO Orders (OrderID, UserID, OrderDate, Amount) VALUES (1, 1, '2023-10-01', 150.00);
INSERT INTO Orders (OrderID, UserID, OrderDate, Amount) VALUES (2, 2, '2023-10-02', 200.00);
INSERT INTO Orders (OrderID, UserID, OrderDate, Amount) VALUES (3, 1, '2023-10-03', 300.00);
INSERT INTO Orders (OrderID, UserID, OrderDate, Amount) VALUES (4, 3, '2023-10-04', 400.00);

-- Sample Queries
SELECT
    Email
FROM
    Users
Where
    UserName = Bob OR 
    UserName = Charlie;

SELECT
    OrderID
FROM 
    Orders
Where 
    Amount < 300;

SELECT 
    Users.UserName,
    Orders.OrderDate,
    Orders.Amount
FROM 
    Users
JOIN 
    Orders
ON 
    Users.UserID = Orders.UserID
ORDER BY 
    Orders.OrderDate;
